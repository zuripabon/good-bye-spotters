<!DOCTYPE html><html>
    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
    <title>Farewell Spotters</title>
    <style type="text/css">
        .text {
            position:absolute;
            opacity: 0.9;
            transform: translateX(25%);
            width: 70%;
            z-index: 1;
            font-size: 170%;
            font-family: Poppins, monospace, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            color: #f29a9a;
            text-align:center;
            background-color: rgb(43, 42, 42);
            padding: 20px;
            border-radius: 20px;
            display:none;
        }
        mark {
            color: white;
            background: transparent;
        }

        .landing {
            display: flex;
            flex-direction: row;
            place-content: center;
            place-items: center;
            flex-wrap: wrap;
            margin: 0 auto;
            width: 100%;
            background: #F7F7F7;
            padding: 64px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            overflow: hidden;
            padding: 64px 0;
        }
        .landing-image {
            margin-right: 32px;
            cursor: pointer;
        }
        .landing-text {
            max-width: 480px;
            font-feature-settings: "tnum" 1;
            font-size: 24px;
            font-family: Poppins;
            overflow: hidden;
            max-height: 368px;
            display: flex;
            flex: 1 1;
            flex-direction: column;
            justify-content: center;
        }
        .landing-p {
            color: rgb(13, 13, 13);
            font-family: Poppins;
            font-size: 26px;
            font-weight: bold;
            padding-top: 12px;
        }
        .landing-q {
            color: rgb(13, 13, 13);
            font-family: Poppins;
            font-size: 16px;
        }
        .footer{
            position: fixed;
            bottom: 0;
            right: 0;
            padding: 5px;
        }

        .hithere {
        animation: hithere 3s ease infinite;
        }
        @keyframes hithere {
        30% { transform: scale(1.02); }
        40%, 60% { transform: rotate(-5deg) scale(1.02); }
        50% { transform: rotate(5deg) scale(1.02); }
        70% { transform: rotate(0deg) scale(1.02); }
        100% { transform: scale(1); }
        }

    </style>

        <section class="landing">
            <div class="landing-image hithere">
                <img id="gameTrigger" src="https://tassets.spotahome.com/438e6b3acff9b205c069dcd8dc45111aa16a3404/images/home/quote-img.jpg" alt="home.tenant.quote"></div><div class="landing-text"><svg xmlns="http://www.w3.org/2000/svg" width="45" height="38" fill="none" viewBox="0 0 45 38" class="quote-icon"><path fill="#ffccef" fill-rule="evenodd" d="M17.879 19.389h-6.705v-1.933c0-5.92 2.235-9.503 6.705-10.751V0C5.959 1.047 0 8.96 0 23.738v13.53h17.879V19.389zm27.121 0h-6.705v-1.933c0-5.92 2.235-9.503 6.705-10.751V0C33.08 1.047 27.121 8.96 27.121 23.738v13.53H45V19.389z" clip-rule="evenodd"></path></svg>
                    <p class="landing-p">I found a nice room and within minutes of sending my booking request I was accepted.</p><p class="landing-q">- Francesco, Barcelona</p></div></div></section>
    <footer class="footer">❤️ thanks Spotahome (and js13kgames for the inspiration)</footer>
    <div id="upper" class="text" style="bottom:5%;"></div>
<body>
    <script src="lightjs.js"></script>
    <script>
        // ZzFX - Zuper Zmall Zound Zynth - Micro Edition
        // MIT License - Copyright 2019 Frank Force
        // https://github.com/KilledByAPixel/ZzFX
        var xV=.3;      // volume - make this global if we need it
        var zzfx=           // play sound
        (p=1,k=.05,b=220,e=0,r=0,t=.1,q=0,D=1,u=0,y=0,v=0,z=0,l=0,E=0,A=0,F=0,c=0,w=1,m=
        0,B=0,M=Math,R=44100,d=2*M.PI,G=u*=500*d/R/R,C=b*=(1-k+2*k*M.random(k=[]))*d/R,g
        =0,H=0,a=0,n=1,I=0,J=0,f=0,x,h)=>{e=R*e+9;m*=R;r*=R;t*=R;c*=R;y*=500*d/R**3;A*=d
        /R;v*=d/R;z*=R;l=R*l|0;for(h=e+m+r+t+c|0;a<h;k[a++]=f)++J%(100*F|0)||(f=q?1<q?2<
        q?3<q?M.sin((g%d)**3):M.max(M.min(M.tan(g),1),-1):1-(2*g/d%2+2)%2:1-4*M.abs(M.
        round(g/d)-g/d):M.sin(g),f=(l?1-B+B*M.sin(d*a/l):1)*(0<f?1:-1)*M.abs(f)**D*xV
        *p*(a<e?a/e:a<e+m?1-(a-e)/m*(1-w):a<e+m+r?w:a<h-c?(h-a-c)/t*w:0),f=c?f/2+(c>a?0:
        (a<h-c?1:(h-a)/c)*k[a-c|0]/2):f),x=(b+=u+=y)*M.cos(A*H++),g+=x-x*E*(1-1E9*(M.sin
        (a)+1)%2),n&&++n>z&&(b+=v,C+=v,n=0),!l||++I%l||(b=C,u=G,n||=1);p=zzfxX.
        createBuffer(1,h,R);p.getChannelData(0).set(k);b=zzfxX.createBufferSource();b.
        buffer=p;b.connect(zzfxX.destination);b.start();return b};zzfxX=new AudioContext;
    </script>
    <script>

       
function init(){const e=document.querySelector("#gameTrigger");e&&e.addEventListener("click",()=>GAME())}function GAME(){var e=GL.create(),t=0,o=0,a=-1,r=new GL.Vector(0,-.45,-1),n=angleY=0,s=0,l=0,i=[.26,.26],m=0,c=-7,u=0,d=0,p=!0,f=.016,h=0,y=0,x=!1,b=!1,g=null,v=null,L=0,k=0,M=10,G=!0,z=!1,I=0,E=GL.Mesh.bo(0,"LRGCFB"),w=GL.Mesh.bo(0,"F"),T=GL.Mesh.bo(1,"C"),O=[],S=[GL.Mesh.bd(512,0,640,254,.13,.3),GL.Mesh.bd(0,0,120,248,.13,.3),GL.Mesh.bd(128,0,248,248,.13,.3),GL.Mesh.bd(256,0,376,248,.13,.3),GL.Mesh.bd(384,0,504,248,.13,.3),GL.Mesh.bd(640,0,760,248,.13,.3),GL.Mesh.bd(768,0,888,248,.13,.3),GL.Mesh.bd(896,0,1024,248,.13,.3),GL.Mesh.bd(0,640,120,760,.22,.22),GL.Mesh.bd(256,640,504,768,1,.5),GL.Mesh.bd(0,512,632,640,1,.3),GL.Mesh.bd(896,512,1024,760,.35,.7),GL.Mesh.bd(768,512,896,760,.35,.7),GL.Mesh.bd(640,504,760,632,.2,.2),GL.Mesh.bd(512,768,768,896,1,.5),GL.Mesh.bd(256,768,512,896,1,.5),GL.Mesh.bo(1,"G"),GL.Mesh.bo(2,"LC")],A=localStorage.getItem("hasWon");null===localStorage.getItem("runs")?(I=0,localStorage.setItem("runs","0")):I=parseInt(localStorage.getItem("runs"));var D="true"===A?5:1;mo=function(e,t,o,a,r,n,s,l,i,m,c,u){if(0==t&&++y>100)return null;var d={m:null!=e?S[e]:null,v:1,p:new GL.Vector(o,a,r),d:new GL.Vector(n,s,l),mn:new GL.Vector(0,0,0),mx:new GL.Vector(0,0,0),t:t,a:0,x:i,y:m,n:c,o:u,h:0,l:1,s:1,f:0};return O.push(d),d};var C=[["La vida loca<br><mark>[nod or type y/n]</mark>","La vida loca","La vida loca",2],["Do you have kids?<br><mark>[nod or type y/n]</mark>","Enjoy this paternity leave","Dont worry ... I'll enjoy the paternity leave for you ...",2],["Do you wanna join the ideation meeting?<br><mark>[nod or type y/n]</mark>","I have prepared a special workshop for you","I have prepared a special workshop for you",2],["Do you like GA4?<br><mark>[nod or type y/n]</mark>","Let's change that","Let's change that",2],["Have you ever build a microlito?<br><mark>[nod or type y/n]</mark>","let me create a bc-francesco for you","let me create a bc-francesco for you",2],["I'm executing the payments script... I need some mushrooms, do you have some? !?<br><mark>[nod or type y/n]</mark>","payments are like wild mushrooms. Eat this one!","payments are like wild mushrooms. Eat this one!",2]],F="<br><br><mark>[press space to continue]</mark>",Y=[["Hello Spotter, I'm Francesco. Sure you have read I found a nice room and within minutes I was accepted ... <br>blabla, all lies! I've been here for ages...<br><br>This place ... this place is where I live. A cool developer build this for me to have a place to stay<br>Please, help me get my booking request accepted. Would you help me? <br><mark>[nod or type y/n]</mark>","Maxi brutal. Take my booking request with you and bomb as many landlords as you can with it until I get accepted please"+F,"It is impossible for me to stop smiling, but I'm now sad ..."+F,0],["Looks like you were rejected by the landlord ... would you help me again?<br><mark>[nod or type y/n]</mark>","Do you see my face? I'm forced to smile the whole day but now I'm truly smiling"+F,"will remember that when AI dominates the real state market..."+F,0],["I heard in a grooming some devs are thinking on removing me<br> Ha!, I'll remain in their git history forever ... <br> Oh you are still here, one more time?<br><mark>[nod or type y/n]</mark>","oh seem as you became an engaged user. Please, take my booking request with you and bomb as many landlords as you can with it please"+F,"I guess you need a business case to keep playing with me, ha!"+F,0]];rn=function(e,t){return Math.random()*(t-e+1)+e},localStorage.setItem("runs",I+1),I>=2&&(I=2);var H=mo(17,5,.2,-.2,-.18,0,0,0),R=mo(null,4,0,0,0,.25,.25,.25),N=mo(8,1,1e5,.3,1e5,.25,.25,.25),P=mo(10,2,0,.5,0,0,0,0);priest=mo(0,0,0,.3,0,.015,.3,.05,Y[I][0],Y[I][1],Y[I][2],Y[I][3]),me=mo(2,0,0,.3,0,.015,.3,.05),H.s=.07,me.v=H.v=R.v=P.v=P.l=0,text=function(e){document.getElementById("upper").style.display="none",document.getElementById("upper").innerHTML=e,""!=e&&(document.getElementById("upper").style.display="block",L=0)},ttc=function(e){document.getElementById("upper").style.color=e},clamp=function(e,t,o){return Math.min(Math.max(e,t),o)},ow=function(){var e=0,t=[1,5,7,3,6,4],o=mo(16,2,0,0,0,0,0,0);mn=mo(15,2,0,2,-50,.5,.5,.5),ctl=mo(9,2,0,.75,-40,.5,.5,.5),o.s=100,mn.s=2,ctl.s=1.5;for(e=0;e<50;e++)mo(12,3,rn(-3,-.5),.6,-.3*e,.015,.5,.015),mo(12,3,rn(.5,3),.6,-.3*e,.015,.5,.015),mo(13,2,rn(-3,-.25),.1,2-.3*e,.05,.2,.05),mo(13,2,rn(.25,3),.1,2-.3*e,0,0,0);var a=0;for(e=t.length-1;e>=0;e--){var r=C[a];mo(t[e],0,rn(0,.5),.3,-3*rn(1,4)-rn(0,.5),.015,.3,.05,r[0],r[1],r[2],r[3]).over=2,a+=1}};var W=GL.Texture.fromImage(tileset),B=new GL.Shader("        varying vec2 coord;        varying vec4 pos;        void main() {            coord = gl_TexCoord.xy;            gl_Position = gl_ModelViewProjectionMatrix * gl_Vertex;            pos = gl_Position;        }        ","        uniform sampler2D texture;        uniform float factor;        uniform float over;        uniform vec2 sky;        varying vec2 coord;        varying vec4 pos;        float fogf(float d) {            const float LOG2 = -1.442695;            return 1.0 - clamp(exp2(d*d*LOG2), 0.0, 1.0);        }        void main() {            vec4 os = texture2D(texture, coord);            vec4 ms = texture2D(texture, coord + vec2(0.0, 0.25));            os = mix(os, ms, factor);            if(os.a < 0.8) discard;            float fog = fogf(gl_FragCoord.z/gl_FragCoord.w * 0.5);            float d = (1.0 / distance(vec4(0.0, 0.0, 0.0, 0.0), pos)) * (over - 1.0);            gl_FragColor = mix(os, vec4(sky.x, 0.26, sky.y, 1.0), fog) + (vec4(0.87, 0.46, 0.051, 1.0) * d);            if(os.r > 0.9 && os.g > 0.9) gl_FragColor = os;        }        ");zfx=function(){p=!1};const _=[[,.1,75,.03,.08,.17,1,1.88,7.83,,,,,.4],[2,.2,100,.01,.02,.02,,1.9,-7.4,,,,.07,1.5,,,.1,,.08,.47],[,,528,.01,,.48,,.6,-11.6,,,,.32,4.2],[2,,11,,2,3,,,,,55,.22,.03,,22,,.15,,1],[2,.15,555,,,.02,,1.13,,,,,,.2,-131,,,,,.01],[2,.8,999,,,,,1.5,,.3,-99,.1,1.63,,,.11,.22],[1.27,,5555,.01,.08,.08,4,2.57,,.1,-50,.02,.01,2,-1,,,.37,.08,.01],[,,662,.82,.11,.33,1,0,,-.2,,,,1.2,,.26,.01],[1.99,.1,1429,,.02,.2,,.73,,-2,25,.02,,,,,.07,.73,.04,.08],[2,.8,999,,,,,1.5,,.3,-99,.1,1.63,,,.11,.22],[2,,177,.12,.01,0,,2.48,,31,,,.07,,,,.2,.6,.01]];sfx=function(e){document.hasFocus()&&zzfx(..._[e])};var U=0,V=0,j=[1,0,1,1,1,0,2,0,1,0,1,0,1,0,2,0];msx=function(e){document.hasFocus()&&(U+=e,!p&&U>.1&&(1==j[V]&&1==m&&sfx(5),U-=.1,++V>=j.length&&(V=0)))},e.onmousedown=function(e){if(!(D>4)){if(p)return text(""),zfx(),void(D=1);if(!(3!=D||0==m||M<.3)){M=0,N.p.x=-r.x,N.p.z=-r.z,N.v=1,N.a=3.14*angleY/180;for(var t=0;t<O.length;t++)O[t].l=1.8;H.p.z=-.12,sfx(0)}}},e.onmouseup=function(e){t=o=0},e.onmousemove=function(e){2==D||I>11||4==D||5==D||(n+=e.my*f*4,angleY+=e.mx*f*4,n=clamp(n,-90,90),x&&(Math.abs(e.mx)>Math.abs(e.my)?e.mx<0&&0!=a?(a=o=0,t++):e.mx>0&&1!=a&&(a=1,o=0,t++):e.my>0&&2!=a?(a=2,t=0,o++):e.my<0&&3!=a&&(a=3,t=0,o++),t>2&&K&&x?(say(0),t=o=0):o>2&&K&&x&&(say(1),t=o=0)))},usp=function(e,t){if(e.mn=e.p.subtract(e.d),e.mx=e.p.add(e.d),1==e.t?(e.p.x+=Math.sin(e.a)*t*10,e.p.z-=Math.cos(e.a)*t*10):0!=e.t&&3!=e.t||(e.a=Math.atan2(-r.x-e.p.x,-r.z-e.p.z)*(180/Math.PI)),0==e.t&&1==m){var o=.85*t;Math.abs(r.z+e.p.z)<1&&(-r.x>e.p.x?e.p.x+=o:e.p.x-=o),-r.z>e.p.z?e.p.z+=o:e.p.z-=o}},abab=function(e,t){return e.mn.x<=t.mx.x&&e.mx.x>=t.mn.x&&e.mn.y<=t.mx.y&&e.mx.y>=t.mn.y&&e.mx.z<=t.mx.z&&e.mx.z>=t.mn.z},gotofeast=function(){1==D&&(text(""),r.x=0,r.z=-1,n=angleY=0,D=2,P.v=1,z=!1,h=0)};var K=!1;askQuestion=function(){K||null==g||0!=g.h||(t=o=0,text(g.x),K=!0)},say=function(e){K&&x&&0==g.h&&(text(""),console.log(g.o),0==g.o&&(G=!1),setTimeout(()=>{2==g.o||3==g.o&&1==e||4==g.o&&0==e?(ttc("#f29a9a"),s=1,v=g,sfx(7),setTimeout(()=>{text(""),l=0,m=1,H.v=1,s=0,v=null},"3000")):(0,0!=g.o&&sfx(10)),1==e?text(g.y):text(g.n),0==g.o&&(z=!0,setTimeout(()=>{gotofeast()},"15000"))},"1000"),g.h++)},e.onupdate=function(e){if(f=e,h+=e,(L+=e)>2&&!x&&text(""),1==D&&z&&GL.keys.SPACE)gotofeast();else{if((1==D||3==D)&&GL.keys.Y)return say(1),void(t=o=0);if((1==D||3==D)&&GL.keys.N)return say(0),void(t=o=0);if(2!=D&&G&&4!=D&&5!=D){1==m&&(c+=e),u+=e,M+=e,3==D&&(msx(e),H.p.z=clamp(H.p.z-.25*e,-.18,-.12));var a=side=strife=0,i=0;GL.keys.W|GL.keys.UP&&!x&&!b?a=1*-e:GL.keys.S|GL.keys.DOWN&&(a=1*e),GL.keys.D|GL.keys.RIGHT?(side=90,strife=-e):GL.keys.A|GL.keys.LEFT&&(side=-90,strife=-e),(0!=a||0!=side)&&u>.35&&(sfx(1),u=0);var p=3.14*(angleY+side)/180,y=3.14*angleY/180;r.x+=Math.sin(p)*strife,r.z-=Math.cos(p)*strife,r.x+=Math.sin(y)*a,r.z-=Math.cos(y)*a,1==D?(r.x=clamp(r.x,-.8,.8),r.z=clamp(r.z,-.8,.8)):3==D&&(r.x=clamp(r.x,-4,4),r.z=clamp(r.z,-1.2,39.8)),R.p.x=-r.x,R.p.y=-r.y,R.p.z=-r.z,x=b=!1,O.sort(function(e,t){return parseFloat(t.p.z)-parseFloat(-e.p.z)});var I=!1;for(null!=v&&1==s&&0==m&&(v.p.z-=.25*e),i=0;i<O.length;i++)if(usp(O[i],e),O[i].l=clamp(O[i].l-4*e,1,2),0==O[i].t){if(1==m&&c>2){for(var E=0;E<O.length;E++)0==O[E].t&&0==O[E].v&&(O[E].v=1,O[E].p.x+=rn(-4,4),O[E].p.z+=rn(-5,5),mo(3,0,rn(-4,4),.3,-r.z+rn(-5,5),.015,.3,.05));c=0}1==O[i].v&&(abab(O[i],R)&&(0==m?(x=!0,null!=O[i].x&&(g=O[i],askQuestion())):1==m&&(I=!0,(d+=e)>.3&&(s=1,sfx(2),d>.5&&(D=4,r.x=0,r.z=-1,n=angleY=h=s=0)))),3==D&&0==O[i].t&&abab(O[i],N)&&(O[i].v=0,N.p.x=N.p.z=1e4,c=0,k++,sfx(9)))}else 3==O[i].t&&abab(O[i],R)&&(b=!0);I||(d=0,l>.9&&(s=0)),x||(K=!1)}}},dbu=function(t,o,a,r,n){e.pushMatrix(),e.translate(o,a,r),e.scale(n,n,n),B.uniforms({texture:0,factor:0,sky:i,over:1}),B.draw(t),e.popMatrix()},dbd=function(t){if(t.v>0){if(3==t.t&&Math.abs(r.z+t.p.z)>5)return;e.pushMatrix(),e.translate(t.p.x,t.p.y,t.p.z),1==t.t?e.rotate(Math.atan2(-r.x-t.p.x,-r.z-t.p.z)*(180/Math.PI),0,1,0):e.rotate(t.a,0,1,0),1!=t.s&&e.scale(t.s,t.s,t.s),0==t.t&&(t.f=l),B.uniforms({texture:0,factor:t.f,sky:i,over:t.l}),B.draw(t.m),e.popMatrix()}},glcb=function(){e.clearColor(0,0,0,1)},e.ondraw=function(){var t=0;if(e.clearColor(i[0],.26,i[1],1),e.clear(16640),e.loadIdentity(),W.bind(0),1==H.v&&(H.p.x+=15e-5*Math.sin(2.5*h),e.pushMatrix(),dbd(H),e.popMatrix()),1==s){var o=[-.1,.1,-.17,.15];e.rotate(n+o[Math.floor(Math.random()*o.length)],1,0,0),e.rotate(angleY+o[Math.floor(Math.random()*o.length)],0,1,0)}else e.rotate(n,1,0,0),e.rotate(angleY,0,1,0);if(e.translate(r.x,r.y,r.z),dbu(T,-r.x,-3.4,-r.z,5.1),0==D)glcb(),e.clear(16640),text("<mark>[click to play]</mark>");else if(1==D)for(glcb(),e.clear(16640),P.v=0,priest.v=1,dbu(E,0,0,0,1),t=1;t<O.length;t++)dbd(O[t]);else if(2==D)D=3,G=!0,P.v=0,priest.v=0,ow();else if(3==D){if(priest.v=0,1==m){var a=2*f;l=clamp(l+a,0,1),i[0]=clamp(i[0]+a,.26,1),i[1]=clamp(i[1]-a,.18,.27)}for(dbu(E,0,0,2.5,1),t=-4;t<6;t+=2)dbu(w,t,0,2.5,1);for(t=-4;t<6;t+=2)dbu(w,t,-.5,-41.1,1);for(t=0;t<O.length;t++)dbd(O[t]);k>=25&&(D=5)}else if(4==D)glcb(),e.clear(16640),G=!1,r.z=-1,priest.p.x=priest.p.z=r.x=0,priest.a=0,l=1,priest.v=1,dbu(E,0,0,0,1),dbd(priest),h>1&&(ttc("#f29a9a"),text("YOUR BOOKING REQUEST WAS REJECTED BY THE LANDLORD<br><mark>[PRESS SPACE TO TRY AGAIN]</mark>"),h=0),(h>7||GL.keys.SPACE)&&location.reload();else if(5==D){e.clearColor(.7,.7,.7,1),e.clear(16640),i[0]=.4,i[1]=.4,G=!1,r.x=0,r.z=-1,n=angleY=0,me.p.x=me.p.z=r.x=0,l=0,me.a=0,me.l=1,dbu(E,0,0,0,1),me.v=1,dbd(me);h>1&&(ttc("#f29a9a"),text("<br>THANK YOU FOR GETTING SO FAR WITH ME AND FOR ALL THE TIME WE SHARED TOGETHER. GOOD AND DIFFICULT MOMENTS ALONG THE WAY.<br> I WISH YOU GOOD AND I WISH YOU BREAK THE LIMIT!<br>BOOKING CLOSED ;)<br>"),h=0),(h>10||GL.keys.SPACE)&&location.reload(),localStorage.setItem("hasWon","true")}},zfx(),sfx(5),e.enable(2929),e.enable(3042),e.blendFunc(770,771),e.fullscreen(),e.animate()}document.write('<img src="./assets.png" id=tileset hidden onload="init()">');

</script></body></html>
